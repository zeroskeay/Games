// ==================== 场景练习数据 ====================
const scenariosData = {
    // Level 1 场景
    level1: [
        {
            id: "l1_s1",
            name: "第一次见面的破冰",
            level: 1,
            difficulty: "入门",
            description: "公司团建，你和几个不熟的同事坐在一起。大家刚刚点完菜，陷入了沉默。你想打破这个尴尬的氛围。",
            mentalPrep: [
                "记住：冷场不是你的错，是双方的责任",
                "深呼吸3次，放松肩膀",
                "准备好安全话题：天气、环境、最近的共同经历",
                "告诉自己：说得不好，总比不说强100倍"
            ],
            steps: [
                {
                    step: 1,
                    title: "开场破冰",
                    wrong: "（沉默不语，玩手机）<br>内心：我不知道说什么，好尴尬...",
                    right: "（深呼吸，3-2-1）<br>你：'嗨，大家好，我是XX部门的，你们呢？'",
                    keyPoints: [
                        "不要等待完美的开场白",
                        "简单的自我介绍永远不会错",
                        "用开放式问题邀请对方参与"
                    ],
                    brainSimulation: "想象画面：对方微笑着回应你，气氛开始活跃起来。你感到轻松，因为你成功迈出了第一步。"
                },
                {
                    step: 2,
                    title: "延续对话",
                    wrong: "对方自我介绍后，你点点头，又陷入沉默",
                    right: "你：'原来你是市场部的啊，我们之前那个项目好像有合作过。最近忙吗？'",
                    keyPoints: [
                        "抓住对方话中的信息点（部门、项目）",
                        "用问题延续对话",
                        "展现真诚的兴趣"
                    ],
                    brainSimulation: "感受：你不再紧张，因为对话已经自然流动起来。对方也开始放松，愿意分享更多。"
                },
                {
                    step: 3,
                    title: "处理冷场",
                    wrong: "（对话突然中断3秒）<br>内心：完了，冷场了，肯定是我说错话了...<br>（紧张地避开眼神，玩手机）",
                    right: "（深呼吸，接受沉默）<br>内心：沉默3-5秒很正常，不是我的错<br>（保持自然，过几秒后）<br>你：'对了，这家店你们来过吗？菜单上有什么推荐的？'",
                    keyPoints: [
                        "沉默3-5秒是正常的，不要立刻惊慌",
                        "用环境相关话题重启对话",
                        "保持自然的眼神和肢体语言"
                    ],
                    brainSimulation: "心理建设：告诉自己'我已经做得很好了'，沉默不代表失败。想象对方也在思考说什么，你们是平等的。"
                }
            ],
            completionCriteria: [
                "成功开口打破沉默",
                "进行至少2轮对话交流",
                "遇到冷场时没有陷入焦虑"
            ]
        },
        {
            id: "l1_s2",
            name: "电梯里的偶遇",
            level: 1,
            difficulty: "入门",
            description: "早上上班，电梯里遇到同楼层但不熟的同事。只有你们两个人，气氛有点尴尬。",
            mentalPrep: [
                "电梯时间很短，压力小",
                "即使对方不回应，也没关系",
                "这是低风险的练习机会",
                "目标是开口，不是成为朋友"
            ],
            steps: [
                {
                    step: 1,
                    title: "选择开场",
                    wrong: "（低头看手机，假装没看到对方）",
                    right: "（微笑点头）<br>你：'早上好啊'<br>或者：'今天天气不错'",
                    keyPoints: [
                        "眼神接触 + 微笑",
                        "简单的问候就够了",
                        "不需要复杂的开场白"
                    ],
                    brainSimulation: "想象：对方回以微笑，说'早'。即使只是这样，你也成功了。"
                },
                {
                    step: 2,
                    title: "短暂交流",
                    wrong: "说完'早上好'后，立刻低头看手机",
                    right: "你：'最近工作挺忙的吧？我看你们部门经常加班'<br>或者：'上周那个消防演习，你参加了吗？'",
                    keyPoints: [
                        "可以聊共同经历",
                        "观察到的细节（加班、活动）",
                        "保持轻松，不要期待深入对话"
                    ],
                    brainSimulation: "接受结果：如果对方只是礼貌回应，也没关系。重要的是你练习了开口。"
                },
                {
                    step: 3,
                    title: "自然结束",
                    wrong: "电梯到了，头也不回地冲出去",
                    right: "（电梯到了）<br>你：'好，那我先走了，回见'<br>（微笑 + 挥手）",
                    keyPoints: [
                        "礼貌地结束对话",
                        "留下好印象",
                        "下次见面会更自然"
                    ],
                    brainSimulation: "成就感：你完成了一次社交练习！不管结果如何，你比昨天的自己更勇敢。"
                }
            ],
            completionCriteria: [
                "主动打招呼",
                "说了至少一句寒暄",
                "礼貌地结束对话"
            ]
        }
    ],

    // Level 2 场景
    level2: [
        {
            id: "l2_s1",
            name: "被问兴趣爱好",
            level: 2,
            difficulty: "初级",
            description: "朋友聚会，一个不太熟的人问你：'你平时喜欢做什么？'你需要避免一问一答，主动延展话题。",
            mentalPrep: [
                "这是展示自己的好机会",
                "延展不是炫耀，是分享",
                "准备好1-2个兴趣话题",
                "记住公式：回答 + 细节 + 反问"
            ],
            steps: [
                {
                    step: 1,
                    title: "初级延展",
                    wrong: "你：'没什么特别的'<br>（对话终结）",
                    right: "你：'我比较宅，喜欢在家玩游戏或者看剧'",
                    keyPoints: [
                        "给出具体信息（玩游戏、看剧）",
                        "比'没什么'多了2个话题点",
                        "但还不够完美，继续升级"
                    ],
                    brainSimulation: "思考：我提到了游戏和剧，对方可以接哪个话题？"
                },
                {
                    step: 2,
                    title: "中级延展",
                    wrong: "你：'我喜欢看书'<br>（等待对方追问）",
                    right: "你：'我喜欢看书，最近在看推理小说，特别烧脑'",
                    keyPoints: [
                        "添加了类型（推理）",
                        "加了感受（烧脑）",
                        "给对方更多切入点"
                    ],
                    brainSimulation: "画面：对方可能说'我也喜欢推理！'或者'什么小说？'，话题延续了。"
                },
                {
                    step: 3,
                    title: "高级延展",
                    wrong: "（只说自己，不反问）",
                    right: "你：'我比较宅，喜欢在家玩游戏或者看剧，最近在追一部韩剧，你呢？平时有什么爱好？'",
                    keyPoints: [
                        "✅ 具体内容（游戏、剧、韩剧）",
                        "✅ 反问保持对话（你呢？）",
                        "✅ 给了3-4个话题切入点"
                    ],
                    brainSimulation: "成就：你掌握了'三个信息点+反问'的完美结构！感受对话的流畅感。"
                }
            ],
            completionCriteria: [
                "回答包含至少2个具体信息",
                "使用了反问",
                "对方顺利接上话题"
            ]
        },
        {
            id: "l2_s2",
            name: "周末计划话题",
            level: 2,
            difficulty: "初级",
            description: "周五下班时，同事问你：'周末有什么计划？'如何避免'没什么计划'这种终结式回答？",
            mentalPrep: [
                "即使没计划，也能延展",
                "'在家休息'也是一种计划",
                "准备反问，了解对方计划",
                "目标：让对话持续至少3轮"
            ],
            steps: [
                {
                    step: 1,
                    title: "有计划的情况",
                    wrong: "你：'打算去看电影'<br>（信息太少）",
                    right: "你：'打算去看电影，最近有部科幻片评价挺好的，想去看看。你呢？'",
                    keyPoints: [
                        "电影类型（科幻）",
                        "原因（评价好）",
                        "反问（你呢）"
                    ],
                    brainSimulation: "想象：对方可能说'什么电影？我也想看'，你们开始讨论电影。"
                },
                {
                    step: 2,
                    title: "没计划的情况",
                    wrong: "你：'没什么计划'<br>（对话死亡）",
                    right: "你：'还没想好，可能就在家休息，最近工作太累了。你呢，有什么好去处推荐吗？'",
                    keyPoints: [
                        "说明状态（在家休息）",
                        "解释原因（工作累）",
                        "反问寻求建议"
                    ],
                    brainSimulation: "感受：即使'没计划'也能聊出内容，关键是态度真诚。"
                },
                {
                    step: 3,
                    title: "延展到下次互动",
                    wrong: "（聊完就结束）",
                    right: "你：'我可能去那个新开的咖啡馆坐坐，你要不要一起？听说环境不错'",
                    keyPoints: [
                        "制造下次见面机会",
                        "提供具体地点",
                        "用邀请延续关系"
                    ],
                    brainSimulation: "成就：你不仅延展了话题，还主动创造了社交机会！"
                }
            ],
            completionCriteria: [
                "避免了'没什么'式回答",
                "提供了至少2个延展信息",
                "成功反问或邀请"
            ]
        }
    ],

    // Level 3 场景
    level3: [
        {
            id: "l3_s1",
            name: "朋友诉说工作压力",
            level: 3,
            difficulty: "中级",
            description: "朋友跟你说：'最近项目太忙了，天天加班，累得不行。'你需要抓住'累得不行'这个情绪钩子。",
            mentalPrep: [
                "关注情绪词：'累'、'不行'",
                "不要急着给建议",
                "先共鸣，再聊事实",
                "目标：让对方感觉被理解"
            ],
            steps: [
                {
                    step: 1,
                    title: "错误示范：事实逻辑",
                    wrong: "你：'你是做什么项目的？'<br>对方：'一个APP开发项目'<br>你：'什么时候能做完？'<br>（进入工作汇报模式，对方感觉像被审问）",
                    right: "",
                    keyPoints: [
                        "问题：只关注事实，忽略情绪",
                        "对方想要的是理解，不是汇报",
                        "这种对话让人感觉冷冰冰"
                    ],
                    brainSimulation: "反思：如果你累的时候，别人只问'什么项目''什么时候完成'，你会觉得被理解吗？"
                },
                {
                    step: 2,
                    title: "正确做法：情绪共鸣",
                    wrong: "",
                    right: "你：'哇，那真的很辛苦，是不是每天回家都不想动了？'<br>对方：'对啊，回家就瘫在沙发上，什么都不想干'<br>你：'我懂我懂，之前我也有段时间这样，那种疲惫感真的很难熬'",
                    keyPoints: [
                        "✅ 抓住'累得不行'这个情绪",
                        "✅ 用问题放大情绪（是不是...不想动）",
                        "✅ 分享类似经历（我也是）"
                    ],
                    brainSimulation: "感受：对方听到你的共鸣，内心想'终于有人懂我'，防御心理下降，愿意说更多。"
                },
                {
                    step: 3,
                    title: "延展：从情绪到事实",
                    wrong: "（一直停留在情绪）<br>你：'真的很累吧'<br>对方：'是啊...'<br>（陷入负面循环）",
                    right: "你：'辛苦了。老板有说什么时候能缓一缓吗？还是一直要这个强度？'<br>（共鸣后，自然过渡到事实层面）",
                    keyPoints: [
                        "共鸣后再问事实",
                        "对方会更愿意分享",
                        "先情绪，后事实的顺序很重要"
                    ],
                    brainSimulation: "掌握节奏：先共鸣建立连接（2-3句），再聊事实细节，这样对话既有温度又有深度。"
                }
            ],
            completionCriteria: [
                "成功识别情绪词",
                "先共鸣后提问",
                "对方表示感觉被理解"
            ]
        },
        {
            id: "l3_s2",
            name: "朋友分享旅游经历",
            level: 3,
            difficulty: "中级",
            description: "朋友说：'我刚从云南回来，在那边发呆了一周，整个人都活过来了。'如何避免攻略式聊天？",
            mentalPrep: [
                "识别钩子：'发呆'、'活过来'",
                "不要问'去了哪些景点'",
                "聊感受，不聊攻略",
                "用幽默回应情绪"
            ],
            steps: [
                {
                    step: 1,
                    title: "错误示范：攻略式",
                    wrong: "你：'你去了云南哪里？'<br>对方：'大理和丽江'<br>你：'大理有什么好玩的景点？'<br>对方：'洱海、古城...'<br>你：'哦，好玩吗？'<br>对方：'还行'<br>（变成景点查询，无聊）",
                    right: "",
                    keyPoints: [
                        "问题：只收集信息，不交流感受",
                        "对方感觉在做旅游攻略",
                        "错过了'发呆''活过来'的情绪"
                    ],
                    brainSimulation: "反思：朋友想分享的是'放松的感觉'，不是'景点清单'。你抓错重点了。"
                },
                {
                    step: 2,
                    title: "正确做法：抓钩子",
                    wrong: "",
                    right: "你：'哈哈'活过来'这个词太形象了，是不是回来上班又开始'死了'？'<br>对方：'对啊！现在坐在办公室感觉灵魂还在云南'<br>你：'我太懂了，在那边发呆的时候是不是特别自在？'<br>对方：'是啊，每天就坐在洱海边上看风景，什么都不想，那种感觉太舒服了'",
                    keyPoints: [
                        "✅ 抓住'活过来'用幽默延续",
                        "✅ 共鸣对方的对比感（云南vs办公室）",
                        "✅ 聊'发呆的感觉'而不是'看了什么'"
                    ],
                    brainSimulation: "画面：对方眼睛发亮，开始滔滔不绝地分享在洱海边的感受。你们的对话有温度，有共鸣。"
                },
                {
                    step: 3,
                    title: "自然过渡到事实",
                    wrong: "（完全不问事实，对方想分享也没机会）",
                    right: "你：'这种放空的感觉真的太难得了...你在那边住哪里啊？我下次也想去躺平'<br>（在建立情绪连接后，对方会更愿意分享细节）",
                    keyPoints: [
                        "情绪为主，事实为辅",
                        "在对方兴致高时问细节",
                        "展现真实兴趣（我也想去）"
                    ],
                    brainSimulation: "成就：你掌握了'情绪共鸣→事实细节'的黄金顺序，对话既深入又自然！"
                }
            ],
            completionCriteria: [
                "避免了攻略式提问",
                "成功抓住至少2个情绪钩子",
                "对方分享了感受而非清单"
            ]
        }
    ],

    // Level 4-6 场景（简化版，可根据需要扩展）
    level4: [
        {
            id: "l4_s1",
            name: "展示工作经历",
            level: 4,
            difficulty: "中级",
            description: "新认识的朋友问：'你是做什么工作的？'如何自然地展示价值而不炫耀？",
            mentalPrep: [
                "准备一个工作相关的小故事",
                "强调过程和挑战，不是结果",
                "加入真实感受",
                "保持谦逊和真诚"
            ],
            steps: [
                {
                    step: 1,
                    title: "无聊版 vs 故事版",
                    wrong: "你：'我做产品经理'<br>对方：'哦...'（不知道怎么继续）",
                    right: "你：'我做产品经理，主要负责APP设计。上周刚熬夜改了一版方案，老板看了三秒就说'重做'，当时我真的想摔电脑（笑）。不过后来想想他说的也有道理，现在做产品真的要换位思考'",
                    keyPoints: [
                        "有具体场景（改方案）",
                        "有情绪（想摔电脑）",
                        "有自嘲（被老板否定）",
                        "有思考（换位思考）"
                    ],
                    brainSimulation: "画面：对方笑了，觉得你真实有趣，开始问更多问题。"
                }
            ],
            completionCriteria: ["故事包含场景、情绪、思考", "对方表现出兴趣"]
        }
    ],

    level5: [
        {
            id: "l5_s1",
            name: "回应自拍照",
            level: 5,
            difficulty: "进阶",
            description: "你喜欢的人发了一张自拍，如何用推拉技巧回应？",
            mentalPrep: [
                "推拉公式：调侃+夸奖",
                "用玩笑话，但要笑着说",
                "观察对方反应，随时调整",
                "不要过度，点到为止"
            ],
            steps: [
                {
                    step: 1,
                    title: "无聊回复 vs 推拉回复",
                    wrong: "你：'好看'<br>（太平淡，没有张力）",
                    right: "你：'这滤镜开得也太猛了吧（推），不过确实挺好看的（拉）😄'<br>或者：<br>你：'这是你吗？我差点没认出来（推）...逗你的，挺美的（拉）'",
                    keyPoints: [
                        "先推（调侃）制造小挑战",
                        "后拉（夸奖）释放好感",
                        "用emoji表明是玩笑"
                    ],
                    brainSimulation: "对方反应：笑着说'讨厌'或者'你才滤镜呢'，气氛轻松有趣，不是尴尬的夸奖。"
                }
            ],
            completionCriteria: ["使用了推拉结构", "对方有正面回应"]
        }
    ],

    level6: [
        {
            id: "l6_s1",
            name: "多人聚会冷场",
            level: 6,
            difficulty: "高级",
            description: "5人聚会，刚点完菜，大家都在玩手机，气氛冷场。作为控场者，你需要激活氛围。",
            mentalPrep: [
                "控场 = 让大家都舒服",
                "用游戏或开放式话题",
                "确保每个人都能参与",
                "保持轻松愉快的语气"
            ],
            steps: [
                {
                    step: 1,
                    title: "激活话题",
                    wrong: "（也跟着玩手机，等别人开口）",
                    right: "你：'诶，咱们玩个游戏吧，每个人说一件这周最倒霉的事，看谁最惨'<br>或者：<br>你：'大家最近都在忙什么啊？小张你不是说要换工作吗？现在怎么样了？'",
                    keyPoints: [
                        "主动打破沉默",
                        "用游戏或具体问题",
                        "点名让特定人参与"
                    ],
                    brainSimulation: "画面：大家放下手机，开始参与。你成功地掌控了局面，成为社交中心。"
                }
            ],
            completionCriteria: ["成功激活话题", "多数人参与对话"]
        }
    ]
};

// 获取指定等级的所有场景
function getScenariosByLevel(level) {
    return scenariosData[`level${level}`] || [];
}

// 获取所有场景
function getAllScenarios() {
    let all = [];
    for (let level = 1; level <= 6; level++) {
        all = all.concat(getScenariosByLevel(level));
    }
    return all;
}
