<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>èŒèŒçŒœæ‹³å¤§ä½œæˆ˜</title>
    <style>
        /* --- åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-color: #fef6e4; /* å¥¶é»„èƒŒæ™¯ */
            --card-bg: #ffffff;
            --primary: #ff94b6; /* æ¨±èŠ±ç²‰ */
            --secondary: #8bd3dd; /* è–„è·è“ */
            --text-color: #001858;
            --btn-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* ç§»åŠ¨ç«¯é˜²è¯¯è§¦ */
            touch-action: manipulation; 
        }

        /* --- æ¸¸æˆå¡ç‰‡å®¹å™¨ --- */
        .game-card {
            background: var(--card-bg);
            width: 90%;
            max-width: 400px;
            border-radius: 25px;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(255, 148, 182, 0.3);
            border: 4px solid #fff;
            position: relative;
            overflow: hidden;
        }

        /* --- æ ‡é¢˜ --- */
        h1 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px #f3d2c1;
        }

        /* --- è®¡åˆ†æ¿ --- */
        .scoreboard {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .score-box {
            background: #f3d2c1;
            padding: 8px 15px;
            border-radius: 15px;
            color: #fff;
        }

        /* --- æˆ˜æ–—åŒºåŸŸ (æ˜¾ç¤ºå‡ºæ‹³ç»“æœ) --- */
        .battle-area {
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 120px;
            margin-bottom: 20px;
        }

        .emoji-display {
            font-size: 4rem;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .vs-text {
            font-size: 1.5rem;
            font-weight: 900;
            color: #ddd;
            font-style: italic;
        }

        /* --- ç»“æœæç¤º --- */
        .result-message {
            height: 30px;
            margin-bottom: 30px;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--secondary);
        }

        /* --- æŒ‰é’®åŒºåŸŸ --- */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .choice-btn {
            background: #fff;
            border: 3px solid var(--primary);
            border-radius: 50%;
            width: 70px;
            height: 70px;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--btn-shadow);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .choice-btn:active {
            transform: translateY(4px);
            box-shadow: none;
            background: var(--primary);
        }

        /* --- ç®€å•çš„æ‘‡æ™ƒåŠ¨ç”» --- */
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(15deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-15deg); }
            100% { transform: rotate(0deg); }
        }

        .shaking {
            animation: shake 0.4s ease-in-out;
        }

        /* --- åº•éƒ¨ç‰ˆæƒ/é‡ç½® --- */
        .footer {
            margin-top: 30px;
        }
        
        .reset-btn {
            background: none;
            border: none;
            color: #aaa;
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <div class="game-card">
        <h1>âœŠ èŒèŒçŒœæ‹³ âœŒï¸</h1>
        
        <div class="scoreboard">
            <div class="score-box" style="background-color: #8bd3dd;">æˆ‘: <span id="user-score">0</span></div>
            <div class="score-box" style="background-color: #ff94b6;">ç”µè„‘: <span id="comp-score">0</span></div>
        </div>

        <div class="battle-area">
            <div id="user-choice" class="emoji-display">â”</div>
            <div class="vs-text">VS</div>
            <div id="comp-choice" class="emoji-display">â”</div>
        </div>

        <div id="result-msg" class="result-message">å‡†å¤‡å¥½äº†å—ï¼Ÿ</div>

        <div class="controls">
            <button class="choice-btn" onclick="play('rock')">âœŠ</button>
            <button class="choice-btn" onclick="play('scissors')">âœŒï¸</button>
            <button class="choice-btn" onclick="play('paper')">âœ‹</button>
        </div>

        <div class="footer">
            <button class="reset-btn" onclick="resetGame()">é‡æ–°å¼€å§‹</button>
        </div>
    </div>

    <script>
        let userScore = 0;
        let compScore = 0;
        
        // æ˜ å°„ï¼šä»£ç  -> Emoji
        const symbols = {
            'rock': 'âœŠ',
            'scissors': 'âœŒï¸',
            'paper': 'âœ‹'
        };

        function play(userSelection) {
            const userDisplay = document.getElementById('user-choice');
            const compDisplay = document.getElementById('comp-choice');
            const msg = document.getElementById('result-msg');

            // 1. ç®€å•çš„åŠ¨ç”»å‰æ‘‡ï¼ˆå‡è£…æ€è€ƒï¼‰
            userDisplay.innerText = symbols[userSelection];
            compDisplay.innerText = '...';
            userDisplay.classList.add('shaking');
            
            // 2. ç¨å¾®å»¶è¿Ÿä¸€ç‚¹å‡ºç»“æœï¼Œå¢åŠ çœŸå®æ„Ÿ
            setTimeout(() => {
                userDisplay.classList.remove('shaking');
                
                // ç”µè„‘éšæœºå‡ºæ‹³
                const choices = ['rock', 'paper', 'scissors'];
                const compSelection = choices[Math.floor(Math.random() * 3)];
                compDisplay.innerText = symbols[compSelection];

                // åˆ¤æ–­èƒœè´Ÿ
                const result = getWinner(userSelection, compSelection);

                // æ›´æ–°UI
                if (result === 'win') {
                    userScore++;
                    msg.innerText = "ğŸ‰ è€¶ï¼ä½ èµ¢äº†ï¼";
                    msg.style.color = "#ff94b6";
                } else if (result === 'lose') {
                    compScore++;
                    msg.innerText = "ğŸ˜­ å“å‘€ï¼Œè¾“æ‰äº†...";
                    msg.style.color = "#8bd3dd";
                } else {
                    msg.innerText = "ğŸ¤ é»˜å¥‘æ»¡åˆ†ï¼Œå¹³å±€ï¼";
                    msg.style.color = "#999";
                }

                updateScore();
            }, 200);
        }

        function getWinner(user, comp) {
            if (user === comp) return 'draw';
            if (
                (user === 'rock' && comp === 'scissors') ||
                (user === 'scissors' && comp === 'paper') ||
                (user === 'paper' && comp === 'rock')
            ) {
                return 'win';
            }
            return 'lose';
        }

        function updateScore() {
            document.getElementById('user-score').innerText = userScore;
            document.getElementById('comp-score').innerText = compScore;
        }

        function resetGame() {
            userScore = 0;
            compScore = 0;
            updateScore();
            document.getElementById('user-choice').innerText = 'â”';
            document.getElementById('comp-choice').innerText = 'â”';
            document.getElementById('result-msg').innerText = 'å‡†å¤‡å¥½äº†å—ï¼Ÿ';
        }
    </script>
</body>
</html>